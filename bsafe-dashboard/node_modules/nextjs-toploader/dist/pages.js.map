{"version":3,"sources":["../src/pages.tsx"],"sourcesContent":["// deno-ts-ignore-file\n// deno-lint-ignore-file\n/* eslint-disable no-var */\n/* eslint-disable max-len */\n/* eslint-disable prefer-const */\n\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as NProgress from 'nprogress';\nimport { NextTopLoaderProps } from '.';\nimport Router from 'next/router';\nexport const PagesTopLoader = ({\n  color: propColor,\n  height: propHeight,\n  showSpinner,\n  crawl,\n  crawlSpeed,\n  initialPosition,\n  easing,\n  speed,\n  shadow,\n  template,\n  zIndex = 1600,\n  showAtBottom = false,\n}: NextTopLoaderProps): JSX.Element => {\n  const defaultColor = '#29d';\n  const defaultHeight = 3;\n\n  const color = propColor ?? defaultColor;\n  const height = propHeight ?? defaultHeight;\n\n  // Any falsy (except undefined) will disable the shadow\n  const boxShadow =\n    !shadow && shadow !== undefined\n      ? ''\n      : shadow\n      ? `box-shadow:${shadow}`\n      : `box-shadow:0 0 10px ${color},0 0 5px ${color}`;\n\n  // Check if to show at bottom\n  const positionStyle = showAtBottom ? 'bottom: 0;' : 'top: 0;';\n  const spinnerPositionStyle = showAtBottom ? 'bottom: 15px;' : 'top: 15px;';\n\n  /**\n   * CSS Styles for the NextTopLoader\n   */\n  const styles = (\n    <style>\n      {`#nprogress{pointer-events:none}#nprogress .bar{background:${color};position:fixed;z-index:${zIndex};${positionStyle}left:0;width:100%;height:${height}px}#nprogress .peg{display:block;position:absolute;right:0;width:100px;height:100%;${boxShadow};opacity:1;-webkit-transform:rotate(3deg) translate(0px,-4px);-ms-transform:rotate(3deg) translate(0px,-4px);transform:rotate(3deg) translate(0px,-4px)}#nprogress .spinner{display:block;position:fixed;z-index:${zIndex};${spinnerPositionStyle}right:15px}#nprogress .spinner-icon{width:18px;height:18px;box-sizing:border-box;border:2px solid transparent;border-top-color:${color};border-left-color:${color};border-radius:50%;-webkit-animation:nprogress-spinner 400ms linear infinite;animation:nprogress-spinner 400ms linear infinite}.nprogress-custom-parent{overflow:hidden;position:relative}.nprogress-custom-parent #nprogress .bar,.nprogress-custom-parent #nprogress .spinner{position:absolute}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes nprogress-spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}`}\n    </style>\n  );\n\n  React.useEffect((): ReturnType<React.EffectCallback> => {\n    NProgress.configure({\n      showSpinner: showSpinner ?? true,\n      trickle: crawl ?? true,\n      trickleSpeed: crawlSpeed ?? 200,\n      minimum: initialPosition ?? 0.08,\n      easing: easing ?? 'ease',\n      speed: speed ?? 200,\n      template:\n        template ??\n        '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>',\n    });\n\n    const progressStarted = () => NProgress.start();\n    const progressComplete = () => NProgress.done(true);\n\n    Router.events.on('routeChangeStart', progressStarted);\n    Router.events.on('routeChangeComplete', progressComplete);\n    Router.events.on('routeChangeError', progressComplete);\n\n    return () => {\n      // Clean up the global click event listener when the component is unmounted\n      Router.events.off('routeChangeStart', progressStarted);\n      Router.events.off('routeChangeComplete', progressComplete);\n      Router.events.off('routeChangeError', progressComplete);\n    };\n  }, []);\n\n  return styles;\n};\n\nPagesTopLoader.propTypes = {\n  color: PropTypes.string,\n  height: PropTypes.number,\n  showSpinner: PropTypes.bool,\n  crawl: PropTypes.bool,\n  crawlSpeed: PropTypes.number,\n  initialPosition: PropTypes.number,\n  easing: PropTypes.string,\n  speed: PropTypes.number,\n  template: PropTypes.string,\n  shadow: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  zIndex: PropTypes.number,\n  showAtBottom: PropTypes.bool,\n};\n"],"mappings":"gmBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,oBAAAE,IAAA,eAAAC,EAAAH,GAMA,IAAAI,EAA2B,yBAC3BC,EAAuB,oBACvBC,EAA2B,wBAE3BC,EAAmB,0BACZ,IAAMC,EAAiBC,EAAA,CAAC,CAC7B,MAAOC,EACP,OAAQC,EACR,YAAAC,EACA,MAAAC,EACA,WAAAC,EACA,gBAAAC,EACA,OAAAC,EACA,MAAAC,EACA,OAAAC,EACA,SAAAC,EACA,OAAAC,EAAS,KACT,aAAAC,EAAe,EACjB,IAAuC,CACrC,IAAMC,EAAe,OAGfC,EAAQb,GAAA,KAAAA,EAAaY,EACrBE,EAASb,GAAA,KAAAA,EAAc,EAGvBc,EACJ,CAACP,GAAUA,IAAW,OAClB,GACAA,EACA,cAAcA,IACd,uBAAuBK,aAAiBA,IASxCG,EACJ,gBAAC,aACE,6DAA6DH,4BAAgCH,KAR5EC,EAAe,aAAe,qCAQiGG,uFAA4FC,qNAA6NL,KAPjbC,EAAe,gBAAkB,8IAOgjBE,uBAA2BA,yeACvoB,EAGF,OAAM,YAAU,IAAwC,CAC5C,YAAU,CAClB,YAAaX,GAAA,KAAAA,EAAe,GAC5B,QAASC,GAAA,KAAAA,EAAS,GAClB,aAAcC,GAAA,KAAAA,EAAc,IAC5B,QAASC,GAAA,KAAAA,EAAmB,IAC5B,OAAQC,GAAA,KAAAA,EAAU,OAClB,MAAOC,GAAA,KAAAA,EAAS,IAChB,SACEE,GAAA,KAAAA,EACA,qIACJ,CAAC,EAED,IAAMQ,EAAkBlB,EAAA,IAAgB,QAAM,EAAtB,mBAClBmB,EAAmBnB,EAAA,IAAgB,OAAK,EAAI,EAAzB,oBAEzB,SAAAoB,QAAO,OAAO,GAAG,mBAAoBF,CAAe,EACpD,EAAAE,QAAO,OAAO,GAAG,sBAAuBD,CAAgB,EACxD,EAAAC,QAAO,OAAO,GAAG,mBAAoBD,CAAgB,EAE9C,IAAM,CAEX,EAAAC,QAAO,OAAO,IAAI,mBAAoBF,CAAe,EACrD,EAAAE,QAAO,OAAO,IAAI,sBAAuBD,CAAgB,EACzD,EAAAC,QAAO,OAAO,IAAI,mBAAoBD,CAAgB,CACxD,CACF,EAAG,CAAC,CAAC,EAEEF,CACT,EAtE8B,kBAwE9BlB,EAAe,UAAY,CACzB,MAAiB,SACjB,OAAkB,SAClB,YAAuB,OACvB,MAAiB,OACjB,WAAsB,SACtB,gBAA2B,SAC3B,OAAkB,SAClB,MAAiB,SACjB,SAAoB,SACpB,OAAkB,YAAU,CAAW,SAAkB,MAAI,CAAC,EAC9D,OAAkB,SAClB,aAAwB,MAC1B","names":["pages_exports","__export","PagesTopLoader","__toCommonJS","PropTypes","React","NProgress","import_router","PagesTopLoader","__name","propColor","propHeight","showSpinner","crawl","crawlSpeed","initialPosition","easing","speed","shadow","template","zIndex","showAtBottom","defaultColor","color","height","boxShadow","styles","progressStarted","progressComplete","Router"]}